#! bin/bash

#create UserA, UserB and give sudo permission to UserA 
sudo useradd -m UserA
sudo passwd UserA
sudo useradd -m UserB
sudo passwd UserB

sudo echo 'userA  ALL=(ALL:ALL) ALL' >> /etc/sudoers
sudo usermod -a -G sudo UserA

# create path /home/User/Desktop/Reports/ in UserA and UserB
su UserA
cd /home/UserA/
mkdir Desktop 
cd Desktop 
mkdir Reports

su UserB
cd /home/UserB/
mkdir Desktop
cd Desktop
mkdir Reports

#create a crontab with root privileges
su UserA
sudo crontab -e -u root
* * * * * php /home/UserA/Desktop/Reports/check_reports.php

#Create a check_reports.php
cd /home/UserA/Desktop/Reports/
nano check_reports.php

#write the following commands in check_reports.php
<?php
$files = glob("/home/UserB/Desktop/Reports/*.pdf");

foreach ($files as $file) {
        echo $file, "\n";  
        exec("cp $file /home/UserA/Desktop/Reports/");
        exec("rm $file");
}  
?>

